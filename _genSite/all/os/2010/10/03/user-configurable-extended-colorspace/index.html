<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8"  />
<meta name="description" content="Perl and Unix in 2010" />
<meta name="keywords" content="perl,code,linux,software,development" />
<meta name="author" content="Magnus Woldrich" />

<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="stylesheet" type="text/css" href="/css/pygments/neverland.css" />

<!-- TODO: Figure out rss feed -->
<title>trapd00r.se - Hacking Life.</title>

</head>

<body>
  <div id="wrap">
    <div id="header">
      <p id="toplinks">

      </p>

      <h1><a href="/"><div id="logo"></div></span>trap<span class="mousewings">(</span><span class="fade">d00r</span><span class="mousewings">)</span><span class="semi">;</span></a></h1>

    <div class="slogan">
      <a href="/perl" class="pink">perl(posts)</a> //
      <a href="/os"   class="green">os(linux,unix)</a> ?
      <a href="/code" class="orange">hacks(code)</a> :
      <a href="/me"   class="lightgreen">me(self)</a>
    </div>
  </div>

  <div id="content">
    <div id="post">
<h2>24bit colordepth in a terminal near you</h2>
<p class="publish_date">03 October 2010</p>
<h3>History</h3>
<p>In the beginning, there were 8 colors. Soon this was extended to 16, the added 8 was supposed to be either just the same colors withan added bold attribute, or &#8216;bright&#8217; version of the first 8, depending on implementation. Known as the &#8216;<span class="caps">ANSI</span> colors&#8217;, those could be freely modified by loading X resources and respawning the terminal.</p>
<p>Along came rxvt-unicode that offered an amazing 88 colors.</p>
<p>Xterm followed by supporting 256, but none of this could be modified.<br />
You simply were stuck with what some dude thought were a good selection of colors.</p>
<p>Now that a lot of applications actually support more then the regular <span class="caps">ANSI</span> colors, they actually serve a purpose. Therefore it&#8217;s quite sad that one can&#8217;t modify them.</p>
<p>Right. So <strong>let&#8217;s do it anyway.</strong></p>
<h3>colorcoke</h3>
<p><a href="http://github.com/trapd00r/colorcoke"><strong><span class="caps">GIT</span></strong></a> // <a href="http://aur.archlinux.org/packages.php?ID=40798"><strong><span class="caps">AUR</span></strong></a></p>
<p><img src="http://psy.trapd00r.se/scrots/colorcoke/colorcoke-spectrum.png"></p>
<p><strong>colorcoke</strong> lets one modify the whole range of colors for a running terminal session.</p>
<p>The changes will take effect immediately &#8211; no need to spawn a new terminal or (ab)use the xrdb tool.</p>
<p>Shades and tints can be generated for specific ranges &#8211; you could leave the<br />
<span class="caps">ANSI</span> colors untouched while going for a matrix-like green shading for colors<br />
32-60, a deep purple theme for 102-200, and completely randomizing the rest.</p>
<p><img src="http://psy.trapd00r.se/scrots/colorcoke/colorcoke-shades.png"></p>
<p>The randomness can be modified as well. If you dont like green, just use something like this:</p>
<div class="highlight"><pre><code class="perl"><span class="n">colorcoke</span> <span class="o">--</span><span class="n">random</span> <span class="o">-</span><span class="n">rr</span> <span class="mi">200</span> <span class="o">-</span><span class="n">rb</span> <span class="mi">190</span> <span class="o">-</span><span class="n">rg</span> <span class="mi">0</span>
</code></pre>
</div><p><img src="http://psy.trapd00r.se/scrots/colorcoke/colorcoke-random-no-green.png"></p>
<p>The main feature of <strong>colorcoke</strong> is the one that generates tints and shades though.<br />
This works by giving it a color to start with (the default is #000000, pitch black).<br />
By using simple math we can do things like this:</p>
<p><img src="http://psy.trapd00r.se/scrots/colorcoke/colorcoke-shades2.png"></p>
<p>This was generated by</p>
<div class="highlight"><pre><code class="perl"><span class="n">colorcoke</span> <span class="o">-</span><span class="n">c</span> <span class="mo">000000</span> <span class="o">-</span><span class="n">r</span> <span class="mi">2</span> <span class="o">-</span><span class="n">g</span> <span class="mi">1</span> <span class="o">-</span><span class="n">b</span> <span class="mi">1</span> <span class="o">-</span><span class="n">s</span> <span class="mi">0</span> <span class="o">-</span><span class="n">e</span> <span class="mi">255</span>
</code></pre>
</div><p>You might notice that color 7, 15 and 232 doesn&#8217;t quite fit in there.<br />
Those reside in the array of colors to ignore &#8211; I use 232 as my terminal background color, and 7 and 15 are the default foreground colors.</p>
<p>The -s and -e flag specify start and end index, respectively. To simply generate standard <span class="caps">ANSI</span> colorschemes, one might try</p>
<div class="highlight"><pre><code class="perl"><span class="n">colorcoke</span> <span class="o">--</span><span class="n">random</span> <span class="o">-</span><span class="n">s</span> <span class="mi">0</span> <span class="o">-</span><span class="n">e</span> <span class="mi">15</span> <span class="o">-</span><span class="n">rg</span> <span class="mi">0</span> <span class="o">-</span><span class="n">rb</span> <span class="mi">200</span>
</code></pre>
</div><p>Which might give us something like</p>
<p><img src="http://psy.trapd00r.se/scrots/colorcoke/colorcoke-ansi-pink.png"></p>
</div>


<div id="related">
  <h3>Possibly Related Posts</h3>
  <ul class="posts">
    
      <li>&raquo; <a href="/all/perl/2010/06/30/The-quest-for-The-Element/">The quest for The Element</a></li>
    
      <li>&raquo; <a href="/all/code/2010/06/07/perl-interface-for-the-music-player-daemon/">Perl Interface for the Music Player Daemon</a></li>
    
      <li>&raquo; <a href="/all/os/2010/05/19/control-firefox-remotely/">Control Firefox remotely</a></li>
    
  </ul>
</div>

<!-- This is for code colorization which doesn't seem to work very well in IE... i guess I don't care very much -->
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shCore.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushRuby.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushPhp.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushXml.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushCss.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushBash.js"></script>
<script language="javascript" src="http://communicatopia.s3.amazonaws.com/js/shBrushJScript.js"></script>
<script language="javascript">
dp.SyntaxHighlighter.ClipboardSwf = 'http://communicatopia.s3.amazonaws.com/js/clipboard.swf';
//name, showGutter, showControls, collapseAll, firstLine , showColumns
dp.SyntaxHighlighter.HighlightAll('code',true, true,true,1,true);
</script>

  </div>

  <div id="footer">
    <a href="http://github.com/trapd00r">github</a> ||
    <a href="http://github.com/trapd00r/pimpd">pimpd</a> ||
    <a href="http://github.com/trapd00r/rmcd">rmcd</a> ||
    <a href="http://github.com/trapd00r/clipbored">clipbored</a> ||
    <a href="http://github.com/trapd00r/firefox-remote">firefox-remote</a> ||
    <a href="http://github.com/trapd00r/ttycolor">ttycolor</a> ||
    <a href="http://github.com/trapd00r/rel">rel</a>

    <p>&copy; 2010 <a href="/about.html">Magnus Woldrich</a>

  </div>
</div>
</body>
