<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8"  />
<meta name="description" content="Perl and Unix in 2010" />
<meta name="keywords" content="perl,code,linux,software,development" />
<meta name="author" content="Magnus Woldrich" />

<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="stylesheet" type="text/css" href="/css/pygments/neverland.css" />

<!-- TODO: Figure out rss feed -->
<title>trapd00r.se - Hacking Life.</title>

</head>

<body>
  <div id="wrap">
    <div id="header">
      <p id="toplinks">

      </p>

      <h1><a href="/"><div id="logo"></div></span>trap<span class="mousewings">(</span><span class="fade">d00r</span><span class="mousewings">)</span><span class="grey">;</span></a></h1>

    <div class="slogan">
      <a href="/perl" class="pink">perl(posts)</a> ?
      <a href="/os"   class="green">os(linux,unix)</a> :
      <a href="/code" class="orange">hacks(code)</a>
    </div>
  </div>

  <div id="content">
    <div id="post">
<h2>each() on arrays</h2>
<p class="publish_date">05 December 2010</p>
<p>With the fairly new Perl 5.12, each() now accepts an array, as opposed to<br />
only a hash.</p>
<p>each() returns a 2 element list, containing the key and value for the next<br />
element in a hash, and now, in an array as well.<br />
In addition to:</p>
<div class="highlight"><pre><code class="perl"><span class="k">my</span> <span class="nv">%hash</span> <span class="o">=</span> <span class="p">(</span>
  <span class="n">foo</span> <span class="o">=&gt;</span> <span class="mi">12</span><span class="p">,</span>
  <span class="n">bar</span> <span class="o">=&gt;</span> <span class="mi">42</span><span class="p">,</span>
<span class="p">);</span>

<span class="k">while</span><span class="p">(</span> <span class="k">my</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span> <span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">%hash</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">print</span> <span class="s">&quot;$key =&gt; $value\n&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div><p>we can also do this:</p>
<div class="highlight"><pre><code class="perl"><span class="k">my</span> <span class="nv">@array</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;a&#39;</span> <span class="o">..</span> <span class="s">&#39;z&#39;</span><span class="p">);</span>

<span class="k">while</span><span class="p">(</span> <span class="k">my</span><span class="p">(</span><span class="nv">$index</span><span class="p">,</span> <span class="nv">$element</span><span class="p">)</span> <span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">@array</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">print</span> <span class="s">&quot;$index: $element\n&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div><p>The index is the key, and the element itself is the value.<br />
This means we can do things like:</p>
<div class="highlight"><pre><code class="perl"><span class="k">while</span><span class="p">(</span> <span class="k">my</span><span class="p">(</span><span class="nv">$i</span><span class="p">,</span> <span class="nv">$e</span><span class="p">)</span> <span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">@array</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">print</span> <span class="s">&quot;\$array[$i] = $e\n&quot;</span> <span class="k">if</span> <span class="nv">$e</span> <span class="ow">eq</span> <span class="s">&#39;m&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div><p>instead of manually keeping count:</p>
<div class="highlight"><pre><code class="perl"><span class="k">my</span> <span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">for</span> <span class="k">my</span> <span class="nv">$e</span><span class="p">(</span><span class="nv">@array</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nv">$e</span> <span class="ow">eq</span> <span class="s">&#39;m&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">print</span> <span class="s">&quot;\$array[$i] = $e\n&quot;</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nv">$i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
</div>


<div id="related">
  <h3>Somewhat Related Posts</h3>
  <ul class="posts">
    
      <li>&raquo; <a href="/all/perl/2010/06/30/The-quest-for-The-Element/">The quest for The Element</a></li>
    
      <li>&raquo; <a href="/all/os/2010/10/03/top-25-commands-used-in-your-shell/">Top 25 commands used in your shell</a></li>
    
      <li>&raquo; <a href="/all/perl/2010/05/18/expand-function-calls-in-a-string/">Expand function calls in a string</a></li>
    
  </ul>
</div>

  </div>

  <div id="footer">
    <a href="http://github.com/trapd00r">github</a> ||
    <a href="http://github.com/trapd00r/pimpd">pimpd</a> ||
    <a href="http://github.com/trapd00r/rmcd">rmcd</a> ||
    <a href="http://github.com/trapd00r/clipbored">clipbored</a> ||
    <a href="http://github.com/trapd00r/pickyfont">pickyfont</a> ||
    <a href="http://github.com/trapd00r/colorcoke">colorcoke</a> ||
    <a href="http://github.com/trapd00r/utils">utils</a>

    <p>
    <span class="mousewings"><strong>Mail</strong></span>:<span class="grey"> magnus</span><span class="mousewings">@trapd00r.se</span><span class="mousewings"> // <strong>xmpp</strong></span>: <span class="grey">magnus</span><span class="mousewings">@trapd00r.se</span><span class="mousewings"> // <strong>irc</strong></span>: <span class="grey">scp1</span><span class="mousewings">@freenode</span>
    <p>&copy; 2010 <a href="/about.html">Magnus Woldrich</a></p>

  </div>
</div>
</body>
