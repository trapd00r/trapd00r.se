<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8"  />
<meta name="description" content="Perl and Unix in 2010" />
<meta name="keywords" content="perl,code,linux,software,development" />
<meta name="author" content="Magnus Woldrich" />

<link rel="stylesheet" type="text/css" href="/css/default.css" />
<link rel="stylesheet" type="text/css" href="/css/pygments/neverland.css" />

<!-- TODO: Figure out rss feed -->
<title>trapd00r.se - Hacking Life.</title>

</head>

<body>
  <div id="wrap">
    <div id="header">
      <p id="toplinks">

      </p>

      <h1><a href="/"><div id="logo"></div></span>trap<span class="mousewings">(</span><span class="fade">d00r</span><span class="mousewings">)</span><span class="grey">;</span></a></h1>

    <div class="slogan">
      <a href="/perl" class="pink">perl(posts)</a> ?
      <a href="/os"   class="green">os(linux,unix)</a> :
      <a href="/code" class="orange">hacks(code)</a>
    </div>
  </div>

  <div id="content">
    <div id="post">
<h2>Term::ExtendedColor</h2>
<p class="publish_date">05 December 2010</p>
<p><a href="http://search.cpan.org/~woldrich/Term-ExtendedColor-0.166/"><b><span class="caps">CPAN</span></b></a> (stable release) || <a href="https://github.com/trapd00r/Term-ExtendedColor"><b> <span class="caps">GIT</span></b></a> (dev release)</p>
<p>
<p>If you want to colorize screen output in your programs, chances are you&#8217;ve encountered the core <a href="http://search.cpan.org/~rra/ANSIColor-3.00/">Term::ANSIColor</a> module.</p>
<p>It works just as expected, which means it deals with the standard <span class="caps">ANSI</span> colors.<br />
Nowadays, most terminals support the extended colorset as well, and I was quite surprised there wasn&#8217;t a module dealing with this already.</p>
<p>As of today, it&#8217;s really hard to find a terminal that <b>does not</b> support these extended colors.</p>
</notextile>

</p>

<p>

The biggest obstacle I encountered was how to name the colors.
With a total of 240 additional colors with about 30 shades of green, 20 shades of yellow and so on, it wasn't obvious.

My first thought was to map them against some standard color names, like the <a href="http://en.wikipedia.org/wiki/Web_colors">HTML</a> or <a href="http://www.december.com/html/spec/colorsvg.html">SVG</a> ones. They didn't match.

Then I thought of the <a href="http://en.wikipedia.org/wiki/X11_color_names">X11 color names</a> - they surely must match!
They didn't.

So the solution was pretty simple - create one table per base color ( green, blue, yellow ), make the brightest shade the first element and name the colors by their base color plus index.

If you happen to know of a better way to solve this, please<a href="http://trapd00r.se/about.html"> let me know</a>.

The interface is almost identical to the functional interface from Term::ANSIColor, with a few exceptions.

First, there's no need to separate a <b>color()</b> and <b>colored()</b> function.

<notextile><p>Second, two separate functions are exported to deal with foreground and background attributes.</p>
</notextile>

The <b>colorstrip()</b> function in Term::ANSIColor is called <b>uncolor()</b>.

<notextile><p><b>set_color()</b> allows you to <i>change</i> mapped colors, <span class="caps">ANSI</span> as well as the extended ones.<br />
This is the same technique that&#8217;s used in <a href="https://github.com/trapd00r/colorcoke">colorcoke</a>.</p>
</notextile>

<b>get_colors()</b> returns a hash reference with all available colors:

<notextile><p><b>lookup()</b> allows you to lookup a color by their index.</p>
<p></notextile></p>
</div>


<div id="related">
  <h3>Somewhat Related Posts</h3>
  <ul class="posts">
    
      <li>&raquo; <a href="/all/os/2010/10/03/24bit-colordepth-in-a-terminal-near-you/">24bit colordepth in a terminal near you</a></li>
    
      <li>&raquo; <a href="/all/perl/2010/06/30/The-quest-for-The-Element/">The quest for The Element</a></li>
    
      <li>&raquo; <a href="/all/os/2010/10/04/archlinux-and-perl-5.12/">Archlinux and Perl 5.12</a></li>
    
  </ul>
</div>

  </div>

  <div id="footer">
    <a href="http://github.com/trapd00r">github</a> ||
    <a href="http://github.com/trapd00r/pimpd">pimpd</a> ||
    <a href="http://github.com/trapd00r/rmcd">rmcd</a> ||
    <a href="http://github.com/trapd00r/clipbored">clipbored</a> ||
    <a href="http://github.com/trapd00r/pickyfont">pickyfont</a> ||
    <a href="http://github.com/trapd00r/colorcoke">colorcoke</a> ||
    <a href="http://github.com/trapd00r/utils">utils</a>

    <p>
    <span class="mousewings"><strong>Mail</strong></span>:<span class="grey"> magnus</span><span class="mousewings">@trapd00r.se</span><span class="mousewings"> // <strong>xmpp</strong></span>: <span class="grey">magnus</span><span class="mousewings">@trapd00r.se</span><span class="mousewings"> // <strong>irc</strong></span>: <span class="grey">scp1</span><span class="mousewings">@freenode</span>
    <p>&copy; 2010 <a href="/about.html">Magnus Woldrich</a></p>

  </div>
</div>
</body>
